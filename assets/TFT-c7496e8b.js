import{F as L,T as h,E as m,W as z}from"./FBXLoader-d2dde7d0.js";import{G as w,T as B,j as C,k as x,B as E,V as T,n as I,q as N}from"./three.module-a5b5a39f.js";import{_ as $,r as M,o as k,a as g,b as v,c as V,d as S,e as f,w as F,F as b,f as j,p as O,g as U,h as W,t as X}from"./index-47d512da.js";import"./OrbitControls-390d9049.js";const y=.04;let Z=class extends w{constructor(e){super(),this.path=e,this.materialMap={},this.positionMap={},this.rotateZhao=0,this.tft=new w,this.tft.scale.set(y,y,y),this.tft.position.set(0,-6,0),this.add(this.tft),this.loadModel("Di"),this.loadModel("Gai"),this.loadModel("Zhong")}loadModel(e){const t=new N,c=new B().load(`${this.path}/${e}Texture.jpeg`);c.colorSpace=C;const o=new x;o.metalness=.3,o.roughness=.5,o.map=c,this.materialMap[e]=o,new L(t).load(`${this.path}/${e}.FBX`,i=>{let d;i.traverse(r=>{if(r.isMesh){r.material=o;const n=new E().setFromObject(r);d=new T,n.getCenter(d),r.position.sub(d),r.name=e}}),i.name="Group"+e,i.position.add(d),this[e]=i,this.positionMap[e]=new T().copy(i.position),this.tft.add(i)})}splitModel(e){e?(new h(this.Di.position).to({y:this.positionMap.Di.y-200},2e3).easing(m.Elastic.Out).start(),new h(this.Gai.position).to({y:this.positionMap.Gai.y+100},2e3).easing(m.Elastic.Out).start()):(new h(this.Di.position).to({y:this.positionMap.Di.y},2e3).easing(m.Linear.None).start(),new h(this.Gai.position).to({y:this.positionMap.Gai.y},2e3).easing(m.Linear.None).start())}opacityModel(e){const t=new x;t.transparent=!0,t.opacity=.2,t.metalness=0,t.roughness=1,t.depthTest=!1,t.depthWrite=!1,t.side=I,this.tft.traverse(l=>{l.isMesh&&(l.material=e?t:this.materialMap[l.name])})}update(){}};const q=p=>(O("data-v-f194eb81"),p=p(),U(),p),R=q(()=>S("div",{id:"container"},null,-1)),A={class:"operator"},H={__name:"TFT",setup(p){let e,t;const l=M(!1),c=M(!1),o=M("reset"),_=[{name:"long",title:"龙",target:{x:5.2341511539334356,y:1.8115384291325431,z:4.1176166498866005},spherical:{radius:12.251389996424269,phi:1.2212141685457136,theta:-.5160486477685453}},{name:"feng",title:"凤",target:{x:-5.678530140999049,y:1.1183546022219402,z:.672154998385697},spherical:{radius:10,phi:1.0182607407291495,theta:-2.2506624046053245}},{name:"lu",title:"鹿",target:{x:0,y:-4.779653898326491,z:5.875845016045369},spherical:{radius:10,phi:.8959051092742718,theta:.17941576926377914},minDistance:6},{name:"an",title:"案",target:{x:0,y:0,z:-1},spherical:{radius:39.8604725741288,phi:.44573177914027046,theta:-.048847963957853055}},{name:"gou",title:"构",target:{x:-.3765508488828831,y:5.014251245390728,z:1.0209967804492102},spherical:{radius:10.000000000000025,phi:.6425084358108344,theta:-.07204908450772043}},{name:"reset",title:"重置",target:{x:0,y:0,z:-1},spherical:{radius:63.245553203367585,phi:1.2490457723982544,theta:0}}];function i(n){t.splitModel(n)}function d(n){t.opacityModel(n)}function r(n){const a=_.find(u=>u.name===n);e.controls.minDistance=a.minDistance||10,e.focusModel(a)}return k(()=>{e=new z,t=new Z("./tft"),e.camera.position.y=20,e.scene.add(t),e.update(),e.addEventListener("update",()=>{t.update()})}),(n,a)=>{const u=g("el-switch"),D=g("el-radio-button"),G=g("el-radio-group");return v(),V(b,null,[R,S("div",A,[f(u,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),onChange:i},null,8,["modelValue"]),f(u,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=s=>c.value=s),onChange:d},null,8,["modelValue"]),f(G,{modelValue:o.value,"onUpdate:modelValue":a[2]||(a[2]=s=>o.value=s),size:"large",onChange:r},{default:F(()=>[(v(),V(b,null,j(_,s=>f(D,{key:s.name,label:s.name},{default:F(()=>[W(X(s.title),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])])],64)}}},ee=$(H,[["__scopeId","data-v-f194eb81"]]);export{ee as default};
