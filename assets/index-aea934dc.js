import{i as A,j,u as v,k as b}from"./index-47d512da.js";function S(e){return A()?(j(e),!0):!1}function p(e){return typeof e=="function"?e():v(e)}const E=typeof window<"u"&&typeof document<"u",O=Object.prototype.toString,P=e=>O.call(e)==="[object Object]",y=()=>{};function T(e,n){function t(...r){return new Promise((u,i)=>{Promise.resolve(e(()=>n.apply(this,r),{fn:n,thisArg:this,args:r})).then(u).catch(i)})}return t}function x(e,n={}){let t,r,u=y;const i=c=>{clearTimeout(c),u(),u=y};return c=>{const l=p(e),s=p(n.maxWait);return t&&i(t),l<=0||s!==void 0&&s<=0?(r&&(i(r),r=null),Promise.resolve(c())):new Promise((o,f)=>{u=n.rejectOnCancel?f:o,s&&!r&&(r=setTimeout(()=>{t&&i(t),r=null,o(c())},s)),t=setTimeout(()=>{r&&i(r),r=null,o(c())},l)})}}function K(e,n=200,t={}){return T(x(n,t),e)}function C(e){var n;const t=p(e);return(n=t==null?void 0:t.$el)!=null?n:t}const h=E?window:void 0;function D(...e){let n,t,r,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,r,u]=e,n=h):[n,t,r,u]=e,!n)return y;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const i=[],a=()=>{i.forEach(o=>o()),i.length=0},c=(o,f,d,m)=>(o.addEventListener(f,d,m),()=>o.removeEventListener(f,d,m)),l=b(()=>[C(n),p(u)],([o,f])=>{if(a(),!o)return;const d=P(f)?{...f}:f;i.push(...t.flatMap(m=>r.map(w=>c(o,m,w,d))))},{immediate:!0,flush:"post"}),s=()=>{l(),a()};return S(s),s}function W(e){return typeof e=="function"?e:typeof e=="string"?n=>n.key===e:Array.isArray(e)?n=>e.includes(n.key):()=>!0}function _(...e){let n,t,r={};e.length===3?(n=e[0],t=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(n=!0,t=e[0],r=e[1]):(n=e[0],t=e[1]):(n=!0,t=e[0]);const{target:u=h,eventName:i="keydown",passive:a=!1,dedupe:c=!1}=r,l=W(n);return D(u,i,o=>{o.repeat&&p(c)||l(o)&&t(o)},a)}export{_ as o,K as u};
